<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Syracuse Weather Forecast</title>
    <style>
      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
        line-height: 1.6;
        color: #333;
        background-color: #f5f5f5;
      }
      
      h1, h2 {
        color: #1a5a9a;
      }
      
      .weather-card {
        background: linear-gradient(135deg, #72b4e6 0%, #2678c5 100%);
        border-radius: 10px;
        padding: 20px;
        margin: 20px 0;
        color: white;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      }
      
      .weather-header {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-bottom: 15px;
      }
      
      .weather-icon {
        width: 60px;
        height: 60px;
        background-color: rgba(255,255,255,0.2);
        border-radius: 50%;
        padding: 5px;
      }
      
      .temperature {
        font-size: 2.5rem;
        font-weight: bold;
        margin: 0;
      }
      
      button {
        background-color: #2678c5;
        color: white;
        border: none;
        padding: 10px 15px;
        border-radius: 5px;
        font-size: 1rem;
        cursor: pointer;
        margin: 5px 0;
      }
      
      button:hover, button:focus {
        background-color: #1a5a9a;
        outline: 2px solid #333;
      }
      
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
      }
      
      @media (prefers-contrast: more) {
        body {
          background-color: white;
          color: black;
        }
        
        .weather-card {
          background: #2678c5;
        }
        
        button {
          outline: 2px solid black;
        }
      }
    </style>
  </head>

  <body>
    <header>
      <h1>Syracuse Weather Forecast</h1>
    </header>
    
    <main>
      <section aria-labelledby="weather-heading">
        <h2 id="weather-heading" class="sr-only">Current Weather Conditions</h2>
        
        <button onclick="getSyracuseTemp()" aria-label="Get current Syracuse weather">
          Get Syracuse Weather
        </button>
        
        <div class="weather-card" id="weather-display" aria-live="polite">
          <div class="weather-header">
            <img id="icon" class="weather-icon" src="" alt="Weather condition icon">
            <div class="temperature" id="temp"></div>
          </div>
          <p id="time"></p>
          <p id="forecast"></p>
        </div>
      </section>
      
      <section aria-labelledby="date-heading">
        <h2 id="date-heading" class="sr-only">Current Date</h2>
        <button onclick="getCurrentDate()" aria-label="Get today's date">
          Get Today's Date
        </button>
        <p id="date" aria-live="polite"></p>
      </section>
    </main>

    <script>
      const cuseTempAPI = "https://api.weather.gov/gridpoints/BGM/52,99/forecast";
      
      function getSyracuseTemp() {
        fetch(cuseTempAPI)
          .then((response) => {
            if (!response.ok) {
              throw new Error("Network response was not ok");
            }
            return response.json();
          })
          .then((data) => {
            const period = data.properties.periods[0];
            const time = new Date(period.startTime).toLocaleString();
            const temp = period.temperature;
            const forecast = period.detailedForecast;
            const icon = period.icon;
            
            document.getElementById("icon").setAttribute("src", icon);
            document.getElementById("icon").setAttribute("alt", period.shortForecast);
            document.getElementById("time").textContent = `Updated: ${time}`;
            document.getElementById("temp").textContent = `${temp}°F`;
            document.getElementById("forecast").textContent = forecast;
            
            // Update page title for screen readers
            document.title = `Syracuse Weather - ${temp}°F`;
          })
          .catch((error) => {
            console.error("Error:", error);
            document.getElementById("forecast").textContent = "Unable to load weather data. Please try again later.";
          });
      }

      function getCurrentDate() {
        const time = new Date();
        const formattedDate = time.toLocaleDateString("en-US", {
          weekday: 'long',
          year: 'numeric',
          month: 'long',
          day: 'numeric'
        });
        document.getElementById("date").textContent = formattedDate;
      }
      
      // Add keyboard support for buttons
      document.querySelectorAll('button').forEach(button => {
        button.addEventListener('keydown', function(e) {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            this.click();
          }
        });
      });
      
      // Load weather data when page loads
      window.addEventListener('load', getSyracuseTemp);
    </script>
  </body>
</html>